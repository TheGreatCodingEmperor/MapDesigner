<mat-drawer-container fxLayout="row">

  <mat-drawer #drawer mode="side" fxFlex="30%">
    <mat-tab-group animationDuration="0ms">
      <mat-tab label="{{config.name}}" *ngFor="let config of mapSchema" [ngSwitch]="config.type">
        <div *ngSwitchCase="'path'">
          <label>code</label>
          <ace-editor [(ngModel)]="config.code" style="height:150px;">
          </ace-editor>
        </div>
        <div *ngSwitchCase="'bubble'">
          <button (click)="openDialog(config.DataSetId)">table</button>
        </div>
        <div *ngFor="let attr of attrKeys(config)">
          <label for="{{attr}}">{{attr}}</label>
          <button (click)="config.advance[attr]=!config.advance[attr]">advance</button>
          <p *ngIf="!config.advance[attr]">
            <input id="{{attr}}" type="text" [(ngModel)]="config.attrs[attr]">
          </p>
          <p *ngIf="config.advance[attr]">
            <ace-editor [(ngModel)]="config.attrs[attr]" style="height:150px;">
            </ace-editor>
          </p>
        </div>
      </mat-tab>
    </mat-tab-group>
    <button mat-raised-button color="primary" (click)="rebuildMap()">rebuild</button>
    <button mat-raised-button color="primary" (click)="drawer.toggle()">Toggle drawer</button>
  </mat-drawer>


  <mat-drawer-content fxFlex="70%" style="position: relative;">
    <div class="d3-geomap" id="map" style="position: relative;">
      <div style="position: absolute;z-index:2;">
        <button mat-mini-fab id="zoom_in" aria-label="Example icon button with a heart icon">
          <mat-icon mat-mini-fab>add</mat-icon>
        </button>
        <button mat-mini-fab id="zoom_out" aria-label="Example icon button with a heart icon">
          <mat-icon mat-mini-fab>remove</mat-icon>
        </button>
        <button mat-mini-fab id="zoom_none" aria-label="Example icon button with a heart icon">
          <mat-icon mat-mini-fab>home</mat-icon>
        </button>
      </div>
    </div>
    <!-- <input type="text" #remove>
    <button (click)="removeElement(remove.value)">remove</button> -->
    <button mat-raised-button color="primary" (click)="drawer.toggle()">Toggle drawer</button>
    <button mat-raised-button (click)="saveSchema()">save</button>
  </mat-drawer-content>

</mat-drawer-container>