<mat-drawer-container class="example-container">


  <mat-drawer #drawer mode="side" style="width:30%" opened>
    <mat-tab-group animationDuration="0ms">
      <mat-tab label="{{config.name}}" *ngFor="let config of mapSchema" [ngSwitch]="config.name">
        <div *ngSwitchCase="'path'">
          <label>code</label>
          <ace-editor [(ngModel)]="config.code" style="height:150px;">
          </ace-editor>
        </div>
        <div *ngFor="let attr of attrKeys(config)">
          <label for="{{attr}}">{{attr}}</label>
          <p *ngIf="!config.advance[attr]">
            <input id="{{attr}}" type="text" [(ngModel)]="config.attrs[attr]">
          </p>
          <p *ngIf="config.advance[attr]">
            <ace-editor [(ngModel)]="config.attrs[attr]" style="height:150px;">
            </ace-editor>
          </p>
          <button (click)="config.advance[attr]=!config.advance[attr]">advance</button>
        </div>
      </mat-tab>
    </mat-tab-group>
  </mat-drawer>


  <mat-drawer-content>
    <div class="d3-geomap" id="map"></div>
    <mat-select [(ngModel)]="dataSet">
      <mat-option [value]="markers">
        markers
      </mat-option>
      <mat-option [value]="schools">
        schools
      </mat-option>
    </mat-select>
    <button (click)="addBubbles()">add bubbles</button>
    <input type="text" #remove>
    <button (click)="removeElement(remove.value)">remove</button>
    <button (click)="rebuildMap()">rebuild</button>
    <button mat-raised-button (click)="drawer.toggle()">Toggle drawer</button>
    <button mat-raised-button (click)="saveSchema()">save</button>
  </mat-drawer-content>

</mat-drawer-container>